<%- include('./layouts/imports') -%>
    <div class="uk-background-muted p-lg-4 p-2 ">
        <div class="container mt-4 mb-4">
            <!-- <div class="d-flex w-100 justify-content-center mb-4">
                <h3>
                    <%= properties.length %> Properties matching your preference
                </h3>
            </div> -->
            <div class="row">
                <div class="col-lg-4 d-none d-lg-block">
                    <div class="uk-background-default p-5 shadow-sm rounded overflow-auto"
                        style="top: 100px; position: sticky; display: flex; flex-direction: column; height: 650px;">
                        <p class="text-center mb-4" style="font-weight: 600;"><span uk-icon="settings"></span>Filters
                        </p>
                        <form action="/search" method="GET">
                            <label>Property For</label>
                            <br>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="Propertyfor" value="Sale"
                                    id="PropertyforSale">
                                <label class="form-check-label" for="PropertyforSale">Sale</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="Propertyfor" value="Rent/Lease"
                                    id="PropertyforRent">
                                <label class="form-check-label" for="PropertyforRent">Rent</label>
                            </div>
                            <br>
                            <br>
                            <label for="PropertyType">Property type</label>
                            <br>
                            <select class="form-control" name="PropertyType" id="PropertyType">
                                <option value="">Select</option>
                                <option value="Flat/Apartment"> Flat/Apartment </option>
                                <option value="Residential House"> Residential House </option>
                                <option value="Villa"> Villa </option>
                                <option value="Builder Floor Apartment">Builder Floor Apartment </option>
                                <option value="Penthouse"> Penthouse </option>
                                <option value="Studio Apartment"> Studio Apartment </option>
                                <option value="Farm House"> Farm House </option>
                            </select>
                            <br>
                            <label for="exampleFormControlSelect1">Budget</label>
                            <select class="uk-select text-dark" id="form-stacked-select" name="price">
                                <option class="text-dark" value="5 Lac - 10 Lac">5 Lac - 10 Lac</option>
                                <option class="text-dark" value="10 Lac - 20 Lac">10 Lac - 20 Lac</option>
                                <option class="text-dark" value="20 Lac - 30 Lac">20 Lac - 30 Lac</option>
                                <option class="text-dark" value="30 Lac - 40 Lac">30 Lac - 40 Lac</option>
                                <option class="text-dark" value="40 Lac - 50 Lac">40 Lac - 50 Lac</option>
                                <option class="text-dark" value="50 Lac - 60 Lac">50 Lac - 60 Lac</option>
                                <option class="text-dark" value="60 Lac - 70 Lac">60 Lac - 70 Lac</option>
                                <option class="text-dark" value="70 Lac - 80 Lac">70 Lac - 80 Lac</option>
                                <option class="text-dark" value="80 Lac - 90 Lac">80 Lac - 90 Lac</option>
                                <option class="text-dark" value="90 Lac - 1 Cr">90 Lac - 1 Cr</option>
                                <option class="text-dark" value="1 Cr - 1.5 Cr">1 Cr - 1.5 Cr</option>
                                <option class="text-dark" value="1.5 Cr - 2 Cr">1.5 Cr - 2 Cr</option>
                                <option class="text-dark" value="2 Cr - 2.5 Cr">2 Cr - 2.5 Cr</option>
                                <option class="text-dark" value="2.5 Cr - 3 Cr">2.5 Cr - 3 Cr</option>
                                <option class="text-dark" value="3 Cr - 3.5 Cr">3 Cr - 3.5 Cr</option>
                                <option class="text-dark" value="3.5 Cr - 4 Cr">3.5 Cr - 4 Cr</option>
                            </select>
                            <br>
                            <br>
                            <label for="Locality">Locality</label>
                            <br>
                            <select class="form-control " name="Locality" id="Locality">
                                <option value="Roadpali">Roadpali</option>
                                <option value="Kalamboli">Kalamboli</option>
                                <option value="Kharghar">Kharghar</option>
                            </select>
                            <br>
                            <label for="Bedrooms">Bedrooms</label>
                            <br>
                            <select class="form-control " onchange="dimensions()" name="bedrooms" id="Bedrooms">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="more than 4">more than 4</option>
                            </select>
                            <br>
                            <br>

                            <label>Possession Status</label>
                            <br>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="possessionStatus"
                                    value="Under Construction" id="possessionStatusUnder">
                                <label class="form-check-label" for="possessionStatusUnder">Under Construction</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="possessionStatus"
                                    value="Ready to Move" id="possessionStatusReady">
                                <label class="form-check-label" for="possessionStatusReady">Ready to Move</label>
                            </div>
                            <br>
                            <br>

                            <label for="furnishingStatus">Furnishing Status</label>
                            <br>
                            <select class="form-control" name="furnishingStatus" id="furnishingStatus">
                                <option value="">Select</option>
                                <option value="Furnished">Furnished</option>
                                <option value="Unfurnished">Unfurnished</option>
                                <option value="Semi-Furnished">Semi-Furnished</option>
                            </select>
                            <br>
                            <label for="name">Name</label>
                            <br>
                            <input type="text" placeholder="Enter name of property" class="form-control" id="name"
                                name="name">
                            <br>
                            <label for="sqmin">Minimum Area</label>
                            <br>
                            <input type="text" placeholder="Enter Minimum area in Sq.ft" class="form-control" id="sqmin"
                                name="sqmin">
                            <br>
                            <label for="sqmax">Maximum Area</label>
                            <br>
                            <input type="text" placeholder="Enter Maximum area in Sq.ft" class="form-control" id="sqmax"
                                name="sqmax">
                            <br>

                            <div class="d-flex w-100 justify-content-center">
                                <button class="btn btn-outline-danger" type="submit">Apply</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-lg-8 col-12">
                    <div class="w-100 text-center mb-4">
                        <h3>
                            <%= properties.length %> Properties matching your preference
                        </h3>
                    </div>
                    <div class="">
                        <% if(properties.length !=0) { %>
                            <% for(var i=0; i< properties.length ; i++) {%>
                                <a href="/property?type=<%= properties[i].type %>&id=<%= properties[i].id %>"
                                    style="text-decoration: none;">
                                    <div class="card mb-4 rounded uk-card uk-card-hover" style="cursor: pointer;">
                                        <div class="row card-body">
                                            <div class="col-lg-4 col-12">
                                                <img src="<%= properties[i].image %>" alt="Img" height="500px">
                                            </div>
                                            <div class="col-lg-8 col-12 mt-lg-0 mt-4">
                                                <h3 class="mb-4">
                                                    <%= properties.title %>
                                                </h3>
                                                <div class="row">
                                                    <div class="col-6 text-muted mb-1">Carpet Area<p>
                                                            <%= properties[i].area %>SqFt
                                                        </p>
                                                    </div>
                                                    <div class="col-6 text-muted mb-1">Status<p>
                                                            <%= properties[i].status %>
                                                        </p>
                                                    </div>
                                                    <div class="col-6 text-muted mb-1">Bedroom<p>
                                                            <%= properties[i].bedroom %>
                                                        </p>
                                                    </div>
                                                    <div class="col-6 text-muted mb-1">Furnishing<p>
                                                            <%= properties[i].furnishing %>
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                <% } %>
                                    <% } else { %>
                                        <div style="display: flex;flex-direction: column; align-items: center;">
                                            <img src="/undraw_Building_vpxo.svg"  alt="Img" width="250px">
                                            <br>    
                                            <p style="font-size: x-large; font-weight: 600;">Error No Properties match the given filters</p>
                                        </div>
                                    <% } %>
                                            <% if(properties.length !=0) { %>
                                                <nav aria-label="Page navigation example">
                                                    <ul class="pagination justify-content-end">
                                                        <li class="page-item disabled">
                                                            <a class="page-link" href="#" tabindex="-1">Previous</a>
                                                        </li>
                                                        <% for(var i=1; i< 5; i++) {%>
                                                            <li class="page-item"><a class="page-link text-danger"
                                                                    href="/search?page=<%= i %>">
                                                                    <%= i %>
                                                                </a></li>
                                                            <% } %>
                                                                <li class="page-item">
                                                                    <a class="page-link text-danger" href="#">Next</a>
                                                                </li>
                                                    </ul>
                                                </nav>
                                            <% } %>

                    </div>
                </div>
            </div>
            <div class="d-lg-none d-block">
                <a class="uk-button uk-button-default" href="#modal-full" uk-toggle> <button
                    class="rounded-lg btn btn-dark  shadow font-weight-bold"
                    style="position: fixed; bottom: 15px; right: 15px;"><span uk-icon="settings"></span></button></a>
            </div>
        </div>
    </div>

    <div id="modal-full" class="uk-modal-full" uk-modal>
        <div class="uk-modal-dialog" uk-height-viewport>
            <button class="uk-modal-close-full uk-close-large" type="button" uk-close></button>
            <div class="uk-grid-collapse uk-child-width-1-2@s uk-flex-middle" uk-grid>
                <div class="uk-padding-large">
                    <div class="">
                        <p class="text-center mb-4" style="font-weight: 600;"><span uk-icon="settings"></span>Filters
                        </p>
                        <form action="/search" method="GET">
                            <label>Property For</label>
                            <br>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="Propertyfor" value="Sale"
                                    id="PropertyforSale">
                                <label class="form-check-label" for="PropertyforSale">Sale</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="Propertyfor" value="Rent/Lease"
                                    id="PropertyforRent">
                                <label class="form-check-label" for="PropertyforRent">Rent</label>
                            </div>
                            <br>
                            <br>
                            <label for="PropertyType">Property type</label>
                            <br>
                            <select class="form-control" name="PropertyType" id="PropertyType">
                                <option value="">Select</option>
                                <option value="Flat/Apartment"> Flat/Apartment </option>
                                <option value="Residential House"> Residential House </option>
                                <option value="Villa"> Villa </option>
                                <option value="Builder Floor Apartment">Builder Floor Apartment </option>
                                <option value="Penthouse"> Penthouse </option>
                                <option value="Studio Apartment"> Studio Apartment </option>
                                <option value="Farm House"> Farm House </option>
                            </select>
                            <br>
                            <label for="form-stacked-select">Budget</label>
                            <select class="uk-select text-dark" id="form-stacked-select" name="price">
                                <option class="text-dark" value="5 Lac - 10 Lac">5 Lac - 10 Lac</option>
                                <option class="text-dark" value="10 Lac - 20 Lac">10 Lac - 20 Lac</option>
                                <option class="text-dark" value="20 Lac - 30 Lac">20 Lac - 30 Lac</option>
                                <option class="text-dark" value="30 Lac - 40 Lac">30 Lac - 40 Lac</option>
                                <option class="text-dark" value="40 Lac - 50 Lac">40 Lac - 50 Lac</option>
                                <option class="text-dark" value="50 Lac - 60 Lac">50 Lac - 60 Lac</option>
                                <option class="text-dark" value="60 Lac - 70 Lac">60 Lac - 70 Lac</option>
                                <option class="text-dark" value="70 Lac - 80 Lac">70 Lac - 80 Lac</option>
                                <option class="text-dark" value="80 Lac - 90 Lac">80 Lac - 90 Lac</option>
                                <option class="text-dark" value="90 Lac - 1 Cr">90 Lac - 1 Cr</option>
                                <option class="text-dark" value="1 Cr - 1.5 Cr">1 Cr - 1.5 Cr</option>
                                <option class="text-dark" value="1.5 Cr - 2 Cr">1.5 Cr - 2 Cr</option>
                                <option class="text-dark" value="2 Cr - 2.5 Cr">2 Cr - 2.5 Cr</option>
                                <option class="text-dark" value="2.5 Cr - 3 Cr">2.5 Cr - 3 Cr</option>
                                <option class="text-dark" value="3 Cr - 3.5 Cr">3 Cr - 3.5 Cr</option>
                                <option class="text-dark" value="3.5 Cr - 4 Cr">3.5 Cr - 4 Cr</option>
                            </select>
                            <br>
                            <br>
                            <label for="Locality">Locality</label>
                            <br>
                            <select class="form-control " name="Locality" id="Locality">
                                <option value="Roadpali">Roadpali</option>
                                <option value="Kalamboli">Kalamboli</option>
                                <option value="Kharghar">Kharghar</option>
                            </select>
                            <br>
                            <label for="Bedrooms">Bedrooms</label>
                            <br>
                            <select class="form-control " onchange="dimensions()" name="bedrooms" id="Bedrooms">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="more than 4">more than 4</option>
                            </select>
                            <br>
                            <br>

                            <label>Possession Status</label>
                            <br>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="possessionStatus"
                                    value="Under Construction" id="possessionStatusUnder">
                                <label class="form-check-label" for="possessionStatusUnder">Under Construction</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="possessionStatus"
                                    value="Ready to Move" id="possessionStatusReady">
                                <label class="form-check-label" for="possessionStatusReady">Ready to Move</label>
                            </div>
                            <br>
                            <br>

                            <label for="furnishingStatus">Furnishing Status</label>
                            <br>
                            <select class="form-control" name="furnishingStatus" id="furnishingStatus">
                                <option value="">Select</option>
                                <option value="Furnished">Furnished</option>
                                <option value="Unfurnished">Unfurnished</option>
                                <option value="Semi-Furnished">Semi-Furnished</option>
                            </select>
                            <br>
                            <label for="name">Name</label>
                            <br>
                            <input type="text" placeholder="Enter name of property" class="form-control" id="name"
                                name="name">
                            <br>
                            <label for="sqmin">Minimum Area</label>
                            <br>
                            <input type="text" placeholder="Enter Minimum area in Sq.ft" class="form-control" id="sqmin"
                                name="sqmin">
                            <br>
                            <label for="sqmax">Maximum Area</label>
                            <br>
                            <input type="text" placeholder="Enter Maximum area in Sq.ft" class="form-control" id="sqmax"
                                name="sqmax">
                            <br>

                            <div class="d-flex w-100 justify-content-center">
                                <button class="btn btn-outline-danger" type="submit">Apply</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/js/searchPage.js"></script>

    <%- include('./layouts/Footer') -%>